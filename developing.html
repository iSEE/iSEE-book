<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 4 Developing new panels | Extending iSEE</title>
  <meta name="description" content="This book describes how to use the Bioconductor iSEE package to create web-applications for exploring data stored in SummarizedExperiment objects." />
  <meta name="generator" content="bookdown 0.16 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 4 Developing new panels | Extending iSEE" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="This book describes how to use the Bioconductor iSEE package to create web-applications for exploring data stored in SummarizedExperiment objects." />
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 4 Developing new panels | Extending iSEE" />
  
  <meta name="twitter:description" content="This book describes how to use the Bioconductor iSEE package to create web-applications for exploring data stored in SummarizedExperiment objects." />
  

<meta name="author" content="Kevin Rue-Albrecht, Federico Marini, Charlotte Soneson, and Aaron Lun" />


<meta name="date" content="2019-12-29" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="plotting.html"/>
<link rel="next" href="add-a-constructor-function.html"/>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />











<style type="text/css">
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; left: -4em; }
pre.numberSource a.sourceLine::before
  { content: attr(title);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Extending <i>iSEE</i></a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Preface</a></li>
<li class="chapter" data-level="1" data-path="panels.html"><a href="panels.html"><i class="fa fa-check"></i><b>1</b> Panel classes</a><ul>
<li class="chapter" data-level="1.1" data-path="panels.html"><a href="panels.html#overview"><i class="fa fa-check"></i><b>1.1</b> Overview</a></li>
<li class="chapter" data-level="1.2" data-path="panels.html"><a href="panels.html#the-panel-class"><i class="fa fa-check"></i><b>1.2</b> The Panel class</a></li>
<li class="chapter" data-level="1.3" data-path="panels.html"><a href="panels.html#the-dotplot-and-table-panel-families"><i class="fa fa-check"></i><b>1.3</b> The DotPlot and Table panel families</a></li>
<li class="chapter" data-level="1.4" data-path="panels.html"><a href="panels.html#the-columndotplot-and-rowdotplot-panel-families"><i class="fa fa-check"></i><b>1.4</b> The ColumnDotPlot and RowDotPlot panel families</a></li>
<li class="chapter" data-level="1.5" data-path="panels.html"><a href="panels.html#built-in-columndotplot-panel-classes"><i class="fa fa-check"></i><b>1.5</b> Built-in ColumnDotPlot panel classes</a></li>
<li class="chapter" data-level="1.6" data-path="panels.html"><a href="panels.html#built-in-rowdotplot-panel-classes"><i class="fa fa-check"></i><b>1.6</b> Built-in RowDotPlot panel classes</a></li>
<li class="chapter" data-level="1.7" data-path="panels.html"><a href="panels.html#the-columntable-and-rowtable-panel-families"><i class="fa fa-check"></i><b>1.7</b> The ColumnTable and RowTable panel families</a></li>
<li class="chapter" data-level="1.8" data-path="panels.html"><a href="panels.html#built-in-columntable-panel-classes"><i class="fa fa-check"></i><b>1.8</b> Built-in ColumnTable panel classes</a></li>
<li class="chapter" data-level="1.9" data-path="panels.html"><a href="panels.html#built-in-rowtable-panel-classes"><i class="fa fa-check"></i><b>1.9</b> Built-in RowTable panel classes</a></li>
<li class="chapter" data-level="1.10" data-path="panels.html"><a href="panels.html#heatmapplot-class"><i class="fa fa-check"></i><b>1.10</b> The HeatMapPlot panel class</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="server.html"><a href="server.html"><i class="fa fa-check"></i><b>2</b> The app server</a><ul>
<li class="chapter" data-level="2.1" data-path="server.html"><a href="server.html#robjects"><i class="fa fa-check"></i><b>2.1</b> Reactive objects</a></li>
<li class="chapter" data-level="2.2" data-path="server.html"><a href="server.html#persistent-non-reactive-objects"><i class="fa fa-check"></i><b>2.2</b> Persistent (non-reactive) objects</a></li>
<li class="chapter" data-level="2.3" data-path="server.html"><a href="server.html#memory"><i class="fa fa-check"></i><b>2.3</b> The app memory</a></li>
<li class="chapter" data-level="2.4" data-path="server.html"><a href="server.html#panel-api"><i class="fa fa-check"></i><b>2.4</b> The panel API</a><ul>
<li class="chapter" data-level="2.4.1" data-path="server.html"><a href="server.html#cachecommoninfo"><i class="fa fa-check"></i><b>2.4.1</b> .cacheCommonInfo</a></li>
<li class="chapter" data-level="2.4.2" data-path="server.html"><a href="server.html#refineparameters"><i class="fa fa-check"></i><b>2.4.2</b> .refineParameters</a></li>
</ul></li>
<li class="chapter" data-level="2.5" data-path="server.html"><a href="server.html#initialization-of-the-app-server"><i class="fa fa-check"></i><b>2.5</b> Initialization of the app server</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="plotting.html"><a href="plotting.html"><i class="fa fa-check"></i><b>3</b> The plotting API</a><ul>
<li class="chapter" data-level="3.1" data-path="plotting.html"><a href="plotting.html#getplottingfunction"><i class="fa fa-check"></i><b>3.1</b> .getPlottingFunction</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="developing.html"><a href="developing.html"><i class="fa fa-check"></i><b>4</b> Developing new panels</a><ul>
<li class="chapter" data-level="4.1" data-path="developing.html"><a href="developing.html#create-a-new-s4-class"><i class="fa fa-check"></i><b>4.1</b> Create a new S4 class</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="add-a-constructor-function.html"><a href="add-a-constructor-function.html"><i class="fa fa-check"></i><b>5</b> Add a constructor function</a></li>
<li class="chapter" data-level="6" data-path="set-the-panel-name-in-the-gui.html"><a href="set-the-panel-name-in-the-gui.html"><i class="fa fa-check"></i><b>6</b> Set the panel name in the GUI</a></li>
<li class="chapter" data-level="7" data-path="define-the-commands-generating-a-plot-output.html"><a href="define-the-commands-generating-a-plot-output.html"><i class="fa fa-check"></i><b>7</b> Define the commands generating a plot output</a></li>
<li class="chapter" data-level="8" data-path="case-study-i.html"><a href="case-study-i.html"><i class="fa fa-check"></i><b>8</b> Case study I</a><ul>
<li class="chapter" data-level="8.1" data-path="case-study-i.html"><a href="case-study-i.html#overview-1"><i class="fa fa-check"></i><b>8.1</b> Overview</a></li>
<li class="chapter" data-level="8.2" data-path="case-study-i.html"><a href="case-study-i.html#class-basics"><i class="fa fa-check"></i><b>8.2</b> Class basics</a></li>
<li class="chapter" data-level="8.3" data-path="case-study-i.html"><a href="case-study-i.html#setting-up-the-interface"><i class="fa fa-check"></i><b>8.3</b> Setting up the interface</a></li>
<li class="chapter" data-level="8.4" data-path="case-study-i.html"><a href="case-study-i.html#creating-the-observers"><i class="fa fa-check"></i><b>8.4</b> Creating the observers</a></li>
<li class="chapter" data-level="8.5" data-path="case-study-i.html"><a href="case-study-i.html#making-the-plot"><i class="fa fa-check"></i><b>8.5</b> Making the plot</a></li>
<li class="chapter" data-level="8.6" data-path="case-study-i.html"><a href="case-study-i.html#finishing-touches"><i class="fa fa-check"></i><b>8.6</b> Finishing touches</a></li>
<li class="chapter" data-level="8.7" data-path="case-study-i.html"><a href="case-study-i.html#in-action"><i class="fa fa-check"></i><b>8.7</b> In action</a></li>
</ul></li>
<li class="chapter" data-level="9" data-path="case-study-ii.html"><a href="case-study-ii.html"><i class="fa fa-check"></i><b>9</b> Case study II</a><ul>
<li class="chapter" data-level="9.1" data-path="case-study-ii.html"><a href="case-study-ii.html#overview-2"><i class="fa fa-check"></i><b>9.1</b> Overview</a></li>
<li class="chapter" data-level="9.2" data-path="case-study-ii.html"><a href="case-study-ii.html#class-basics-1"><i class="fa fa-check"></i><b>9.2</b> Class basics</a></li>
<li class="chapter" data-level="9.3" data-path="case-study-ii.html"><a href="case-study-ii.html#setting-up-the-interface-1"><i class="fa fa-check"></i><b>9.3</b> Setting up the interface</a></li>
<li class="chapter" data-level="9.4" data-path="case-study-ii.html"><a href="case-study-ii.html#creating-the-observers-1"><i class="fa fa-check"></i><b>9.4</b> Creating the observers</a></li>
<li class="chapter" data-level="9.5" data-path="case-study-ii.html"><a href="case-study-ii.html#making-the-table"><i class="fa fa-check"></i><b>9.5</b> Making the table</a></li>
<li class="chapter" data-level="9.6" data-path="case-study-ii.html"><a href="case-study-ii.html#in-action-1"><i class="fa fa-check"></i><b>9.6</b> In action</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="references.html"><a href="references.html"><i class="fa fa-check"></i>References</a></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Extending <em>iSEE</em></a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="developing" class="section level1">
<h1><span class="header-section-number">Chapter 4</span> Developing new panels</h1>
<p>First, we need to load the <em><a href="https://bioconductor.org/packages/3.11/iSEE">iSEE</a></em> package for this chapter.
This action imports all the builtin panel class definitions, including the virtual class <code>Panel</code> that is the base class for any <em><a href="https://bioconductor.org/packages/3.11/iSEE">iSEE</a></em> panel class.</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb1-1" title="1"><span class="kw">library</span>(iSEE)</a></code></pre></div>
<p>We also set up an example using our favorite dataset, creating a <code>SingleCellExperiment</code> object with some precomputed dimensionality reduction results.</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb2-1" title="1"><span class="kw">library</span>(scRNAseq)</a>
<a class="sourceLine" id="cb2-2" title="2">sce &lt;-<span class="st"> </span><span class="kw">ReprocessedAllenData</span>(<span class="dt">assays=</span><span class="st">&quot;tophat_counts&quot;</span>)</a></code></pre></div>
<pre><code>## snapshotDate(): 2019-12-27</code></pre>
<pre><code>## see ?scRNAseq and browseVignettes(&#39;scRNAseq&#39;) for documentation</code></pre>
<pre><code>## loading from cache</code></pre>
<pre><code>## see ?scRNAseq and browseVignettes(&#39;scRNAseq&#39;) for documentation</code></pre>
<pre><code>## loading from cache</code></pre>
<pre><code>## see ?scRNAseq and browseVignettes(&#39;scRNAseq&#39;) for documentation</code></pre>
<pre><code>## loading from cache</code></pre>
<div class="sourceCode" id="cb10"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb10-1" title="1"><span class="kw">library</span>(scater)</a></code></pre></div>
<pre><code>## Loading required package: ggplot2</code></pre>
<div class="sourceCode" id="cb12"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb12-1" title="1">sce &lt;-<span class="st"> </span><span class="kw">logNormCounts</span>(sce, <span class="dt">exprs_values=</span><span class="st">&quot;tophat_counts&quot;</span>)</a>
<a class="sourceLine" id="cb12-2" title="2">sce &lt;-<span class="st"> </span><span class="kw">runPCA</span>(sce, <span class="dt">ncomponents=</span><span class="dv">4</span>)</a>
<a class="sourceLine" id="cb12-3" title="3">sce &lt;-<span class="st"> </span><span class="kw">runTSNE</span>(sce)</a></code></pre></div>
<div id="create-a-new-s4-class" class="section level2">
<h2><span class="header-section-number">4.1</span> Create a new S4 class</h2>
<p>In the chapter <a href="panels.html#panels">Panel classes</a>, we saw how each type of panel is defined as an S4 class, organised in a hierarchy that allows new panel classes to inherit sets of the properties and functionality from parent classes.</p>
<p>Then, developing a new panel type starts with the creation of a new class that inherits from the <code>Panel</code> class.</p>
<p>While it is possible to create a new panel class that directly inherits from the top-most virtual <code>Panel</code> class, this is the most advanced use case that we will describe in a later section. <!-- TODO: cross-reference when done. --></p>
<p>Instead, new concrete panels classes can be rapidly derived from other concrete parent panel classes, using the inheritance relationships between classes to reuse properties and functionality defined in all of the parent classes.</p>
<p>The choice of a parent class for the new panel depends on the properties that we want that new panel to have.
For instance, to create a panel that inherits all the functionality of the <em>Reduced dimension plot</em> panel type, we simply define a new class that extends the <code>RedDimPlot</code> class.
We call that new class <code>RedDimHexPlot</code>.</p>
<div class="sourceCode" id="cb13"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb13-1" title="1"><span class="kw">setClass</span>(<span class="st">&quot;RedDimHexPlot&quot;</span>, <span class="dt">contains=</span><span class="st">&quot;RedDimPlot&quot;</span>)</a></code></pre></div>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="plotting.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="add-a-constructor-function.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["iSEE-book.pdf", "iSEE-book.epub"],
"toc": {
"collapse": "subsection"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
